@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light dark;
}

@layer base {
  html.dark body {
    background: radial-gradient(1200px 600px at 50% -10%, rgba(255, 200, 0, 0.06), transparent 60%),
                radial-gradient(900px 480px at 90% 10%, rgba(255, 184, 0, 0.05), transparent 60%),
                radial-gradient(700px 420px at 10% 20%, rgba(255, 214, 82, 0.05), transparent 60%),
                #0a0a0a;
  }

  /* Smoothen theme change + tasteful gold flash */
  html.theme-animating body {
    transition: background-color 320ms ease, color 320ms ease, border-color 320ms ease, outline-color 320ms ease;
  }
  /* Radial ripple expanding from click point */
  html.theme-animating::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(120px 80px at var(--theme-x, 50vw) var(--theme-y, 50vh), rgba(255, 200, 0, 0.18), transparent 70%);
    animation: themeRipple 600ms ease-out forwards;
    mix-blend-mode: screen;
  }
  @keyframes themeRipple {
    0% { opacity: 0.0; clip-path: circle(0 at var(--theme-x, 50vw) var(--theme-y, 50vh)); }
    20% { opacity: 0.55; }
    100% { opacity: 0; clip-path: circle(140vmax at var(--theme-x, 50vw) var(--theme-y, 50vh)); }
  }

  @media (prefers-reduced-motion: reduce) {
    html.theme-animating body { transition: none; }
    html.theme-animating::after { animation: none; opacity: 0; }
  }
}

@layer utilities {
  /* Softer card glow for tight grids (skills) */
  .skill-card-glow { position: relative; }
  .skill-card-glow::before {
    content: "";
    position: absolute;
    inset: -10px;
    pointer-events: none;
    border-radius: 24px;
    background: radial-gradient(140px 90px at 50% 45%, rgba(255, 200, 0, 0.12), transparent 70%);
    filter: blur(0.4px);
    opacity: 0.45;
    transition: opacity 200ms ease;
  }
  .skill-card-glow:hover::before { opacity: 0.7; }

  /* Compact halo for the icon chip (prevents overlap) */
  .icon-chip { position: relative; }
  .icon-chip::before {
    content: "";
    position: absolute;
    inset: -4px;
    pointer-events: none;
    border-radius: 9999px;
    background: radial-gradient(26px 18px at 50% 50%, rgba(255, 200, 0, 0.22), transparent 70%);
    filter: blur(0.4px);
    opacity: 0.6;
  }
  .icon-glow { filter: drop-shadow(0 2px 6px rgba(255, 184, 0, 0.22)); }

  .gold-glow {
    position: relative;
  }
  .gold-glow::before {
    content: "";
    position: absolute;
    inset: -24px;
    pointer-events: none;
    border-radius: 28px;
    background: radial-gradient(200px 120px at 50% 40%, rgba(255, 200, 0, 0.18), transparent 70%);
    filter: blur(0.5px);
    opacity: 0.7;
    transition: opacity 200ms ease;
  }
  .gold-glow:hover::before { opacity: 1; }

  @keyframes glowPulse {
    0%, 100% { opacity: 0.55; transform: scale(0.98); }
    50% { opacity: 0.9; transform: scale(1.02); }
  }
  .animate-glow { animation: glowPulse 3.5s ease-in-out infinite; }
}
